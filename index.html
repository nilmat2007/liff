<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LIFF Flex Message Demo</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" />
    <script charset="utf-8" src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <style>
      body {
        background-color: #f8f9fa;
      }
    </style>
  </head>
  <body>
    <div class="container py-5">
      <h1 class="mb-4">LIFF Flex Message Demo</h1>
      <p class="lead">Click the button below to share a Flex Message via LIFF.</p>
      <button id="shareBtn" class="btn btn-primary btn-lg">Share</button>
    </div>

    <script>
      // Initialize LIFF
      liff.init({ liffId: "YOUR-LIFF-ID" }).then(() => {
        console.log("LIFF Initialized");
      });

      // Flex Message
      const flexMessage = {
        "type": "flex",
        "altText": "à¹€à¸£à¸µà¸¢à¸™à¸£à¸¹à¹‰à¸§à¸±à¸™à¸—à¸µà¹ˆ 1",
        "contents": {
          "type": "bubble",
          "hero": {
            "type": "image",
            "url": "https://lh3.googleusercontent.com/d/19X34UfhtXb6SA4cbnZafSFBq3XzY5QSQ",
            "size": "full",
            "aspectRatio": "20:13",
            "aspectMode": "cover",
            "action": {
              "type": "uri",
              "uri": "https://youtu.be/QNHGA0MQhLk?si=xde1D50C5dp1hECM"
            }
          },
          "body": {
            "type": "box",
            "layout": "vertical",
            "contents": [
              {
                "type": "text",
                "text": "à¹€à¸£à¸µà¸¢à¸™à¸£à¸¹à¹‰à¸§à¸±à¸™à¸—à¸µà¹ˆ 1",
                "weight": "bold",
                "size": "xl",
                "align": "center"
              },
              {
                "type": "text",
                "text": "ðŸ’¥à¸ªà¸£à¹‰à¸²à¸‡à¸«à¸™à¹‰à¸²à¸£à¹‰à¸²à¸™à¹€à¸›à¹‡à¸™à¸«à¸™à¹‰à¸²à¹€à¸£à¸² à¹ƒà¸«à¹‰à¹€à¸›à¹‡à¸™à¹à¸¡à¹ˆà¸„à¹‰à¸²à¸­à¸­à¸™à¹„à¸¥à¸™à¹Œà¸¡à¸·à¸­à¸­à¸²à¸Šà¸µà¸ž",
                "wrap": true,
                "margin": "lg"
              },
              {
                "type": "text",
                "text": "ðŸ‘‰à¸ªà¸´à¹ˆà¸‡à¸—à¸µà¹ˆà¸™à¸±à¸à¹€à¸£à¸µà¸¢à¸™à¸•à¹‰à¸­à¸‡à¹€à¸•à¸£à¸µà¸¢à¸¡à¸à¹ˆà¸­à¸™à¹€à¸‚à¹‰à¸²à¹€à¸£à¸µà¸¢à¸™\n1. à¸£à¸¹à¸› à¹‚à¸›à¸£à¹„à¸Ÿà¸¥à¹Œ à¸‚à¸™à¸²à¸” 1:1\n2. à¸£à¸¹à¸› Cover à¸«à¸™à¹‰à¸²à¸›à¸à¸‚à¸™à¸²à¸”à¸ªà¸µà¹ˆà¹€à¸«à¸¥à¸µà¹ˆà¸¢à¸¡à¸œà¸·à¸™à¸œà¹‰à¸²",
                "wrap": true,
                "margin": "lg"
              },
              {
                "type": "text",
                "text": "ðŸ“Œ à¸«à¹‰à¸­à¸‡à¹€à¸›à¸´à¸” à¹€à¸§à¸¥à¸² 18.45 à¸™.",
                "wrap": true,
                "margin": "lg"
              },
              {
                "type": "text",
                "text": "à¸ªà¸­à¸™à¹‚à¸”à¸¢ à¸„à¸£à¸¹à¸«à¸¡à¹ˆà¸²à¸¡à¸µà¹Šà¸ªà¹‰à¸¡à¹‚à¸­\nà¸­à¸ à¸´à¸¥à¸²à¸§à¸±à¸™à¸•à¹Œ à¸­à¸ à¸´à¸žà¸±à¸’à¸™à¸ à¸£à¸“à¹Œ",
                "wrap": true,
                "margin": "lg"
              },
              {
                "type": "text",
                "text": "à¸›à¸£à¸°à¸ªà¸šà¸à¸²à¸£à¸“à¹Œà¹ƒà¸™à¸à¸²à¸£à¸—à¸³à¸­à¸­à¸™à¹„à¸¥à¸™à¹Œà¸¡à¸²à¸à¸à¸§à¹ˆà¸² 5 à¸›à¸µ\nà¸ªà¸£à¹‰à¸²à¸‡à¸—à¸µà¸¡à¸‡à¸²à¸™ à¹à¸¥à¸°à¸¢à¸­à¸”à¸‚à¸²à¸¢à¸à¸§à¹ˆà¸² 1000 à¸¥à¹‰à¸²à¸™\nà¸ªà¹ˆà¸‡à¸­à¸­à¸à¹„à¸›à¸à¸§à¹ˆà¸² 6 à¸›à¸£à¸°à¹€à¸—à¸¨ AEC & Global ðŸŒ",
                "wrap": true,
                "margin": "lg"
              },
              {
                "type": "text",
                "text": "à¸ªà¸´à¹ˆà¸‡à¸—à¸µà¹ˆà¸™à¸±à¸à¹€à¸£à¸µà¸¢à¸™à¸•à¹‰à¸­à¸‡à¹€à¸•à¸£à¸µà¸¢à¸¡\nà¸à¹ˆà¸­à¸™à¹€à¸‚à¹‰à¸²à¹€à¸£à¸µà¸¢à¸™à¸§à¸±à¸™à¸™à¸µà¹‰..\n\nà¸à¸£à¸¸à¸“à¸²à¹€à¸•à¸£à¸µà¸¢à¸¡à¸ªà¸¡à¸¸à¸”à¸›à¸²à¸à¸à¸² à¸ˆà¸”à¸•à¸²à¸¡\nà¸ªà¸²à¸¡à¸²à¸£à¸–à¸­à¸±à¸”à¹€à¸—à¸› à¸­à¸±à¸”à¸§à¸µà¸”à¸µà¹‚à¸­à¹„à¸§à¹‰à¹„à¸”à¹‰\nà¸«à¸¥à¸±à¸à¸ªà¸¹à¸•à¸£à¸™à¸µà¹‰ à¸ˆà¸°à¸¡à¸µà¸ à¸²à¸žà¸›à¸£à¸°à¸à¸­à¸šà¸ªà¹€à¸•à¹‡à¸›à¸à¸²à¸£à¹€à¸£à¸µà¸¢à¸™à¸£à¸¹à¹‰à¹ƒà¸«à¹‰à¹‚à¸”à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”à¹ƒà¸™à¸­à¸±à¸¥à¸šà¸±à¹‰à¸¡\nà¸£à¸°à¸¢à¸°à¹€à¸§à¸¥à¸²à¹ƒà¸™à¸à¸²à¸£à¹€à¸£à¸µà¸¢à¸™à¸£à¸¹à¹‰à¸­à¸²à¸ˆà¹€à¸à¸´à¸™ 2 à¸Šà¸¡.\nà¹ƒà¸«à¹‰à¹€à¸œà¸·à¹ˆà¸­à¹€à¸§à¸¥à¸²à¹€à¸£à¸µà¸¢à¸™à¹„à¸”à¹‰à¹€à¸¥à¸¢à¸™à¸°à¸„à¸° à¸ªà¸­à¸™à¸ˆà¸±à¸”à¹€à¸•à¹‡à¸¡ !!",
                "wrap": true,
                "margin": "lg"
              }
            ]
          },
          "footer": {
            "type": "box",
            "layout": "horizontal",
            "contents": [
              {
                "type": "button",
                "style": "primary",
                "color": "#00bfff",
                "action": {
                  "type": "uri",
                  "label": "à¸”à¸¹à¸§à¸´à¸”à¸µà¹‚à¸­",
                  "uri": "https://youtu.be/QNHGA0MQhLk?si=xde1D50C5dp1hECM"
                }
              },
              {
                "type": "button",
                "style": "secondary",
                "color": "#ff9900",
                "action": {
                  "type": "uri",
                  "label": "Share",
                  "uri": "https://liff.line.me/2005615503-1Kkm9Dgr"
                }
              }
            ]
          }
        }
      }

      // Function to share Flex Message
      const shareFlexMessage = () => {
        liff
          .shareTargetPicker([flexMessage])
          .then((res) => {
            if (res) {
              console.log(`[${res.status}] Message sent!`);
            } else {
              console.log("TargetPicker was closed!");
            }
          })
          .catch((error) => {
            console.log("Something went wrong");
          });
      };

      // Add click event listener to share button
      document.getElementById("shareBtn").addEventListener("click", shareFlexMessage);
    </script>
  </body>
</html>
